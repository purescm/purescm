;; DO NOT EDIT THIS FILE!!
;; This inlined chez-srfi library code is autogenerated using command:
;; $ ./install.chezscheme.sps ../vendor
;; Source origin: https://github.com/arcfide/chez-srfi
;; Please refer to project site for full credits and original code.
;;;;;; File header: %3a61/cond.sls
#!r6rs
;; Copyright 2009 Derick Eddington.  My MIT-style license is in the file named
;; LICENSE from the original collection this file is distributed with.
(library (srfi :61 cond)
  (export (rename (general-cond cond)))
  (import (rnrs))
  (define-syntax general-cond
    (lambda (stx)
      (syntax-case stx ()
        [(_ clauses ...)
         (with-syntax ([(ours ...) (map (lambda (c)
                                          (syntax-case c (=>)
                                            [(generator guard => receiver)
                                             #'((let-values ([vals
                                                              generator])
                                                  (and (apply guard vals)
                                                       vals))
                                                 =>
                                                 (lambda (vals)
                                                   (apply receiver vals)))]
                                            [_ c]))
                                        #'(clauses ...))])
           #'(cond ours ...))]))))
